<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>Jive Messenger LDAP Guide</title>
  <link href="style.css" rel="stylesheet" type="text/css">
</head>
<body>
<a name="top"></a>

<h1>Jive Messenger LDAP Guide</h1>

<h2>Introduction</h2>

<p>
This document details how to configure your Jive Messenger installation to use an external LDAP store when
authenticating users.
</p>
<h2>Background</h2>
<p>
LDAP (Lightweight Directory Access Protocol) has emerged as a dominant standard 
for user authentication and for storage of user profile data. It serves as a 
powerful tool for large organizations (or those organizations integrating many 
applications) to simplify user management issues.
</p>
<p>
By default, Jive Messenger stores all user data in a database and performs 
authentication using database lookups. The LDAP module replaces that 
functionality and allows Jive Messenger to:
<ul>
<li>
Use a LDAP server to authenticate a user's identity.
</li>
<li>
Load user profile information in a LDAP directory.
</li>
</ul>
</p>
<p>
This document will guide you through configuring LDAP support in Jive Messenger. These
instructions assume that you're a competent LDAP user, and that you're familiar 
with Jive Messenger setup issues.
</p>

<h2>Configuration</h2>
<p>
In order to configure your server to use LDAP:
<ol>
<li>
Stop Jive Messenger.
</li>
<li>Edit <tt>MESSENGER_HOME/conf/jive-messenger.xml</tt> as described below.
</li>
<li>
Restart Jive Messenger.
</li>
</ol>
</p>
<h3>Editing the Config File</h3>
<p>
Open the configuration file <tt>MESSENGER_HOME/conf/jive-messenger.xml</tt> in your favorite
editor and add or change the following settings:
</p>
<ul>
<li>provider.user.className -- set the value to "org.jivesoftware.messenger.ldap.LdapUserProvider".</li>
<li>provider.auth.className -- set the value to "org.jivesoftware.messenger.ldap.LdapAuthProvider".</li>
<li>ldap.host -- LDAP server host; e.g. localhost or machine.example.com, etc.</li>
<li>ldap.port -- LDAP server port number</li>
<li>ldap.usernameField -- the field name that the username lookups will be performed on.</li>
<li>ldap.baseDN -- the starting DN that searches for users will performed with. The entire subtree
    under the base DN will be searched for user accounts.
</li>
<li>ldap.nameField -- the field name that holds the user's name.</li>
<li>ldap.emailField -- the field name that holds the user's email address.</li>
<li>ldap.adminDN -- a directory administrator's DN. All directory operations will be performed
    with this account. The admin must be able to perform searches and load user records.
</li>
<li>ldap.adminPassword -- the password for the directory administrator.</li>
<li>ldap.debugEnabled -- a value of "true" if debugging should be turned on. When on, trace
    information about buffers sent and received by the LDAP provider is written to System.out</li>
<li>ldap.sslEnabled -- a value of "true" to enable SSL connections to your LDAP server. If you
    enable SSL connections, the LDAP server port number most likely should be changed to 636.
</li>
</ul>
<p>
Below is a sample config file section:
</p>
<pre><code>
&lt;jive&gt;
...
    &lt;ldap&gt;
        &lt;host&gt;&lt;/host&gt;
        &lt;port>389&lt;/port&gt;
        <&lt;usernameField&gt;uid&lt;/usernameField&gt;
        &lt;nameField&gt;cn&lt;/nameField&gt;
        &lt;emailField&gt;mail&lt;/emailField&gt;
        &lt;baseDN&gt;&lt;/baseDN&gt;
        &lt;adminDN&gt;&lt;/adminDN&gt;
        &lt;adminPassword&gt;&lt;/adminPassword&gt;
    &lt;/ldap&gt;
    &lt;provider&gt;
        &lt;user&gt;
            &lt;className&gt;org.jivesoftware.messenger.ldap.LdapUserProvider&lt;/className&gt;
        &lt;/user&gt;
        &lt;auth&gt;
            &lt;className&gt;org.jivesoftware.messenger.ldap.LdapAuthProvider&lt;/className&gt;
        &lt;/auth&gt;
    &lt;/provider&gt;
...
&lt;/jive&gt;
</code></pre>

<p>Finally, you'll most likely want to change which usernames are authorized to login to the
admin console. By default, only the user with username "admin" is allowed to login. However,
you may have different users in your LDAP directory that you'd like to be administrators. The
list of authorized usernames is controlled via the <tt>adminConsole.authorizedUsernames</tt>
property. For example, to let the usersnames "joe" and "jane" login to the admin console:</p>

<pre><code>
&lt;jive&gt;
...
    &lt;adminConsole&gt;
    ...
        &lt;authorizedUsernames&gt;joe, jane&lt;/authorizedUsernames&gt;
    &lt;/adminConsole&gt;
...
&lt;/jive&gt;
</code></pre>
</body>
</html>